/*! jquery-live-preview 2014-11-22 */
!function(a){a.fn.extend({livePreview:function(b){var c={trigger:"hover",targetWidth:1e3,targetHeight:800,viewWidth:300,viewHeight:200,position:"right",positionOffset:50},b=a.extend(c,b),d=b.viewWidth/b.targetWidth,e=b.viewHeight/b.targetHeight,f=1,g="livepreview_dialog";f="undefined"!=typeof b.scale?b.scale:d>e?d:e;var h=function(c){var d=c.data.triggerType,e=c.data.target,f=c.data.href,h=c.data.scale;"click"==d&&0==a("#"+g).length&&c.preventDefault();var i=b.position;e.attr("data-position")&&(i=e.attr("data-position"));var j=b.positionOffset;e.attr("data-positionOffset")&&(j=e.attr("data-positionOffset")),e.attr("data-scale")&&(h=e.attr("data-scale"));var k=a(this).offset(),l=a(this).width(),m=k.left+l+j;"left"==i&&(m=k.left-b.viewWidth-j);var n=k.top-b.viewHeight/2;a("body").append('<div id="livepreview_dialog" class="'+i+'" style="display:none; padding:0px; left: '+m+"px; top:"+n+"px; width: "+b.viewWidth+"px; height: "+b.viewHeight+'px"><div class="livepreview-container" style="overflow:hidden; width: '+b.viewWidth+"px; height: "+b.viewHeight+'px"><iframe id="livepreview_iframe" src="'+f+'" style="height:'+b.targetHeight+"px; width:"+b.targetWidth+"px;-moz-transform: scale("+h+");-moz-transform-origin: 0 0;-o-transform: scale("+h+");-o-transform-origin: 0 0;-webkit-transform: scale("+h+');-webkit-transform-origin: 0 0;"></iframe></div></div>'),a("#"+g).fadeIn(100)};return this.each(function(){var c=f,d=a(this),e=d.attr("data-preview-url")||d.attr("href"),i=b.trigger;d.attr("data-trigger")&&(i=d.attr("data-trigger")),"click"!=i&&(i="mouseenter",d.on("click",function(){a("#"+g).remove()})),d.on(i,null,{triggerType:i,target:d,href:e,scale:c},h),d.on("mouseleave",function(){a("#"+g).remove()})})}})}(jQuery);